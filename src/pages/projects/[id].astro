---
import LayoutProject from '@layouts/Project.astro';
import projectList from '@content/projects/project-list.json';
import PlatformWeb from '@components/projects/PlatformWeb.astro';
import PlatformMobile from '@components/projects/PlatformMobile.astro';

export function getStaticPaths() {
  return projectList.map((project) => ({ params: { id: project.id } }));
}
const { id } = Astro.params;
const project = projectList.find((p) => p.id === id);
// 获取当前平台
var current: string = project?.platform[0]!;
---

<LayoutProject>
  {current == 'mobile' && <PlatformMobile {project} />}
  {current == 'web' && <PlatformWeb {project} />}
</LayoutProject>
